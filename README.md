# Opencv install
+ 创建目录 `mkdir  build & cd  mkdir`
+ 创建MakeFile文件 
```
cmake -D CMAKE_BUILD_TYPE = Release -DCMAKE_INSTALL_PREFIX =/home/wy/softwere/opencv ..
```
+ 编译 `make`
+ 安装 `make install`
+ 需要将include目录和lib目录下的内容拷贝到/usr/local/的inclue和lib目录

```
.
├── bin
│   ├── opencv_annotation
│   ├── opencv_interactive-calibration
│   ├── opencv_version
│   ├── opencv_visualisation
│   └── setup_vars_opencv4.sh
├── include
│   └── opencv4
│       └── opencv2
│           ├── calib3d
│           │   ├── calib3d_c.h
│           │   └── calib3d.hpp
│           ├── calib3d.hpp
│           ├── core
│           │   ├── affine.hpp
│           │   ├── async.hpp
│           │   ├── base.hpp
│           │   ├── bindings_utils.hpp
│           │   ├── bufferpool.hpp
│           │   ├── check.hpp
│           │   ├── core_c.h
│           │   ├── core.hpp
│           │   ├── cuda
│           │   │   ├── block.hpp
│           │   │   ├── border_interpolate.hpp
│           │   │   ├── color.hpp
│           │   │   ├── common.hpp
│           │   │   ├── datamov_utils.hpp
│           │   │   ├── detail
│           │   │   │   ├── color_detail.hpp
│           │   │   │   ├── reduce.hpp
│           │   │   │   ├── reduce_key_val.hpp
│           │   │   │   ├── transform_detail.hpp
│           │   │   │   ├── type_traits_detail.hpp
│           │   │   │   └── vec_distance_detail.hpp
│           │   │   ├── dynamic_smem.hpp
│           │   │   ├── emulation.hpp
│           │   │   ├── filters.hpp
│           │   │   ├── funcattrib.hpp
│           │   │   ├── functional.hpp
│           │   │   ├── limits.hpp
│           │   │   ├── reduce.hpp
│           │   │   ├── saturate_cast.hpp
│           │   │   ├── scan.hpp
│           │   │   ├── simd_functions.hpp
│           │   │   ├── transform.hpp
│           │   │   ├── type_traits.hpp
│           │   │   ├── utility.hpp
│           │   │   ├── vec_distance.hpp
│           │   │   ├── vec_math.hpp
│           │   │   ├── vec_traits.hpp
│           │   │   ├── warp.hpp
│           │   │   ├── warp_reduce.hpp
│           │   │   └── warp_shuffle.hpp
│           │   ├── cuda.hpp
│           │   ├── cuda.inl.hpp
│           │   ├── cuda_stream_accessor.hpp
│           │   ├── cuda_types.hpp
│           │   ├── cv_cpu_dispatch.h
│           │   ├── cv_cpu_helper.h
│           │   ├── cvdef.h
│           │   ├── cvstd.hpp
│           │   ├── cvstd.inl.hpp
│           │   ├── cvstd_wrapper.hpp
│           │   ├── detail
│           │   │   ├── async_promise.hpp
│           │   │   └── exception_ptr.hpp
│           │   ├── directx.hpp
│           │   ├── eigen.hpp
│           │   ├── fast_math.hpp
│           │   ├── hal
│           │   │   ├── hal.hpp
│           │   │   ├── interface.h
│           │   │   ├── intrin_avx512.hpp
│           │   │   ├── intrin_avx.hpp
│           │   │   ├── intrin_cpp.hpp
│           │   │   ├── intrin_forward.hpp
│           │   │   ├── intrin.hpp
│           │   │   ├── intrin_msa.hpp
│           │   │   ├── intrin_neon.hpp
│           │   │   ├── intrin_sse_em.hpp
│           │   │   ├── intrin_sse.hpp
│           │   │   ├── intrin_vsx.hpp
│           │   │   ├── intrin_wasm.hpp
│           │   │   ├── msa_macros.h
│           │   │   └── simd_utils.impl.hpp
│           │   ├── mat.hpp
│           │   ├── mat.inl.hpp
│           │   ├── matx.hpp
│           │   ├── neon_utils.hpp
│           │   ├── ocl_genbase.hpp
│           │   ├── ocl.hpp
│           │   ├── opencl
│           │   │   ├── ocl_defs.hpp
│           │   │   ├── opencl_info.hpp
│           │   │   ├── opencl_svm.hpp
│           │   │   └── runtime
│           │   │       ├── autogenerated
│           │   │       │   ├── opencl_clamdblas.hpp
│           │   │       │   ├── opencl_clamdfft.hpp
│           │   │       │   ├── opencl_core.hpp
│           │   │       │   ├── opencl_core_wrappers.hpp
│           │   │       │   ├── opencl_gl.hpp
│           │   │       │   └── opencl_gl_wrappers.hpp
│           │   │       ├── opencl_clamdblas.hpp
│           │   │       ├── opencl_clamdfft.hpp
│           │   │       ├── opencl_core.hpp
│           │   │       ├── opencl_core_wrappers.hpp
│           │   │       ├── opencl_gl.hpp
│           │   │       ├── opencl_gl_wrappers.hpp
│           │   │       ├── opencl_svm_20.hpp
│           │   │       ├── opencl_svm_definitions.hpp
│           │   │       └── opencl_svm_hsa_extension.hpp
│           │   ├── opengl.hpp
│           │   ├── operations.hpp
│           │   ├── optim.hpp
│           │   ├── ovx.hpp
│           │   ├── persistence.hpp
│           │   ├── saturate.hpp
│           │   ├── simd_intrinsics.hpp
│           │   ├── softfloat.hpp
│           │   ├── sse_utils.hpp
│           │   ├── traits.hpp
│           │   ├── types_c.h
│           │   ├── types.hpp
│           │   ├── utility.hpp
│           │   ├── utils
│           │   │   ├── allocator_stats.hpp
│           │   │   ├── allocator_stats.impl.hpp
│           │   │   ├── filesystem.hpp
│           │   │   ├── instrumentation.hpp
│           │   │   ├── logger.defines.hpp
│           │   │   ├── logger.hpp
│           │   │   ├── logtag.hpp
│           │   │   ├── tls.hpp
│           │   │   └── trace.hpp
│           │   ├── va_intel.hpp
│           │   ├── version.hpp
│           │   └── vsx_utils.hpp
│           ├── core.hpp
│           ├── cvconfig.h
│           ├── dnn
│           │   ├── all_layers.hpp
│           │   ├── dict.hpp
│           │   ├── dnn.hpp
│           │   ├── dnn.inl.hpp
│           │   ├── layer.details.hpp
│           │   ├── layer.hpp
│           │   ├── shape_utils.hpp
│           │   ├── utils
│           │   │   └── inference_engine.hpp
│           │   └── version.hpp
│           ├── dnn.hpp
│           ├── features2d
│           │   ├── features2d.hpp
│           │   └── hal
│           │       └── interface.h
│           ├── features2d.hpp
│           ├── flann
│           │   ├── all_indices.h
│           │   ├── allocator.h
│           │   ├── any.h
│           │   ├── autotuned_index.h
│           │   ├── composite_index.h
│           │   ├── config.h
│           │   ├── defines.h
│           │   ├── dist.h
│           │   ├── dummy.h
│           │   ├── dynamic_bitset.h
│           │   ├── flann_base.hpp
│           │   ├── flann.hpp
│           │   ├── general.h
│           │   ├── ground_truth.h
│           │   ├── hdf5.h
│           │   ├── heap.h
│           │   ├── hierarchical_clustering_index.h
│           │   ├── index_testing.h
│           │   ├── kdtree_index.h
│           │   ├── kdtree_single_index.h
│           │   ├── kmeans_index.h
│           │   ├── linear_index.h
│           │   ├── logger.h
│           │   ├── lsh_index.h
│           │   ├── lsh_table.h
│           │   ├── matrix.h
│           │   ├── miniflann.hpp
│           │   ├── nn_index.h
│           │   ├── object_factory.h
│           │   ├── params.h
│           │   ├── random.h
│           │   ├── result_set.h
│           │   ├── sampling.h
│           │   ├── saving.h
│           │   ├── simplex_downhill.h
│           │   └── timer.h
│           ├── flann.hpp
│           ├── gapi
│           │   ├── core.hpp
│           │   ├── cpu
│           │   │   ├── core.hpp
│           │   │   ├── gcpukernel.hpp
│           │   │   └── imgproc.hpp
│           │   ├── fluid
│           │   │   ├── core.hpp
│           │   │   ├── gfluidbuffer.hpp
│           │   │   ├── gfluidkernel.hpp
│           │   │   └── imgproc.hpp
│           │   ├── garg.hpp
│           │   ├── garray.hpp
│           │   ├── gasync_context.hpp
│           │   ├── gcall.hpp
│           │   ├── gcommon.hpp
│           │   ├── gcompiled_async.hpp
│           │   ├── gcompiled.hpp
│           │   ├── gcompoundkernel.hpp
│           │   ├── gcomputation_async.hpp
│           │   ├── gcomputation.hpp
│           │   ├── gkernel.hpp
│           │   ├── gmat.hpp
│           │   ├── gmetaarg.hpp
│           │   ├── gproto.hpp
│           │   ├── gpu
│           │   │   ├── core.hpp
│           │   │   ├── ggpukernel.hpp
│           │   │   └── imgproc.hpp
│           │   ├── gscalar.hpp
│           │   ├── gstreaming.hpp
│           │   ├── gtransform.hpp
│           │   ├── gtyped.hpp
│           │   ├── gtype_traits.hpp
│           │   ├── imgproc.hpp
│           │   ├── infer
│           │   │   └── ie.hpp
│           │   ├── infer.hpp
│           │   ├── ocl
│           │   │   ├── core.hpp
│           │   │   ├── goclkernel.hpp
│           │   │   └── imgproc.hpp
│           │   ├── opencv_includes.hpp
│           │   ├── operators.hpp
│           │   ├── own
│           │   │   ├── assert.hpp
│           │   │   ├── convert.hpp
│           │   │   ├── cvdefs.hpp
│           │   │   ├── exports.hpp
│           │   │   ├── mat.hpp
│           │   │   ├── saturate.hpp
│           │   │   ├── scalar.hpp
│           │   │   └── types.hpp
│           │   ├── plaidml
│           │   │   ├── core.hpp
│           │   │   ├── gplaidmlkernel.hpp
│           │   │   └── plaidml.hpp
│           │   ├── render
│           │   │   └── render.hpp
│           │   ├── render.hpp
│           │   ├── streaming
│           │   │   ├── cap.hpp
│           │   │   └── source.hpp
│           │   └── util
│           │       ├── any.hpp
│           │       ├── compiler_hints.hpp
│           │       ├── optional.hpp
│           │       ├── throw.hpp
│           │       ├── util.hpp
│           │       └── variant.hpp
│           ├── gapi.hpp
│           ├── highgui
│           │   ├── highgui_c.h
│           │   └── highgui.hpp
│           ├── highgui.hpp
│           ├── imgcodecs
│           │   ├── imgcodecs_c.h
│           │   ├── imgcodecs.hpp
│           │   ├── ios.h
│           │   └── legacy
│           │       └── constants_c.h
│           ├── imgcodecs.hpp
│           ├── imgproc
│           │   ├── detail
│           │   │   └── gcgraph.hpp
│           │   ├── hal
│           │   │   ├── hal.hpp
│           │   │   └── interface.h
│           │   ├── imgproc_c.h
│           │   ├── imgproc.hpp
│           │   └── types_c.h
│           ├── imgproc.hpp
│           ├── ml
│           │   ├── ml.hpp
│           │   └── ml.inl.hpp
│           ├── ml.hpp
│           ├── objdetect
│           │   ├── detection_based_tracker.hpp
│           │   └── objdetect.hpp
│           ├── objdetect.hpp
│           ├── opencv.hpp
│           ├── opencv_modules.hpp
│           ├── photo
│           │   ├── cuda.hpp
│           │   ├── legacy
│           │   │   └── constants_c.h
│           │   └── photo.hpp
│           ├── photo.hpp
│           ├── stitching
│           │   ├── detail
│           │   │   ├── autocalib.hpp
│           │   │   ├── blenders.hpp
│           │   │   ├── camera.hpp
│           │   │   ├── exposure_compensate.hpp
│           │   │   ├── matchers.hpp
│           │   │   ├── motion_estimators.hpp
│           │   │   ├── seam_finders.hpp
│           │   │   ├── timelapsers.hpp
│           │   │   ├── util.hpp
│           │   │   ├── util_inl.hpp
│           │   │   ├── warpers.hpp
│           │   │   └── warpers_inl.hpp
│           │   └── warpers.hpp
│           ├── stitching.hpp
│           ├── video
│           │   ├── background_segm.hpp
│           │   ├── legacy
│           │   │   └── constants_c.h
│           │   ├── tracking.hpp
│           │   └── video.hpp
│           ├── video.hpp
│           ├── videoio
│           │   ├── cap_ios.h
│           │   ├── legacy
│           │   │   └── constants_c.h
│           │   ├── registry.hpp
│           │   ├── videoio_c.h
│           │   └── videoio.hpp
│           └── videoio.hpp
├── lib
│   ├── a.out
│   ├── cmake
│   │   └── opencv4
│   │       ├── OpenCVConfig.cmake
│   │       ├── OpenCVConfig-version.cmake
│   │       ├── OpenCVModules.cmake
│   │       └── OpenCVModules-release.cmake
│   ├── libopencv_calib3d.so -> libopencv_calib3d.so.4.2
│   ├── libopencv_calib3d.so.4.2 -> libopencv_calib3d.so.4.2.0
│   ├── libopencv_calib3d.so.4.2.0
│   ├── libopencv_core.so -> libopencv_core.so.4.2
│   ├── libopencv_core.so.4.2 -> libopencv_core.so.4.2.0
│   ├── libopencv_core.so.4.2.0
│   ├── libopencv_dnn.so -> libopencv_dnn.so.4.2
│   ├── libopencv_dnn.so.4.2 -> libopencv_dnn.so.4.2.0
│   ├── libopencv_dnn.so.4.2.0
│   ├── libopencv_features2d.so -> libopencv_features2d.so.4.2
│   ├── libopencv_features2d.so.4.2 -> libopencv_features2d.so.4.2.0
│   ├── libopencv_features2d.so.4.2.0
│   ├── libopencv_flann.so -> libopencv_flann.so.4.2
│   ├── libopencv_flann.so.4.2 -> libopencv_flann.so.4.2.0
│   ├── libopencv_flann.so.4.2.0
│   ├── libopencv_gapi.so -> libopencv_gapi.so.4.2
│   ├── libopencv_gapi.so.4.2 -> libopencv_gapi.so.4.2.0
│   ├── libopencv_gapi.so.4.2.0
│   ├── libopencv_highgui.so -> libopencv_highgui.so.4.2
│   ├── libopencv_highgui.so.4.2 -> libopencv_highgui.so.4.2.0
│   ├── libopencv_highgui.so.4.2.0
│   ├── libopencv_imgcodecs.so -> libopencv_imgcodecs.so.4.2
│   ├── libopencv_imgcodecs.so.4.2 -> libopencv_imgcodecs.so.4.2.0
│   ├── libopencv_imgcodecs.so.4.2.0
│   ├── libopencv_imgproc.so -> libopencv_imgproc.so.4.2
│   ├── libopencv_imgproc.so.4.2 -> libopencv_imgproc.so.4.2.0
│   ├── libopencv_imgproc.so.4.2.0
│   ├── libopencv_ml.so -> libopencv_ml.so.4.2
│   ├── libopencv_ml.so.4.2 -> libopencv_ml.so.4.2.0
│   ├── libopencv_ml.so.4.2.0
│   ├── libopencv_objdetect.so -> libopencv_objdetect.so.4.2
│   ├── libopencv_objdetect.so.4.2 -> libopencv_objdetect.so.4.2.0
│   ├── libopencv_objdetect.so.4.2.0
│   ├── libopencv_photo.so -> libopencv_photo.so.4.2
│   ├── libopencv_photo.so.4.2 -> libopencv_photo.so.4.2.0
│   ├── libopencv_photo.so.4.2.0
│   ├── libopencv_stitching.so -> libopencv_stitching.so.4.2
│   ├── libopencv_stitching.so.4.2 -> libopencv_stitching.so.4.2.0
│   ├── libopencv_stitching.so.4.2.0
│   ├── libopencv_videoio.so -> libopencv_videoio.so.4.2
│   ├── libopencv_videoio.so.4.2 -> libopencv_videoio.so.4.2.0
│   ├── libopencv_videoio.so.4.2.0
│   ├── libopencv_video.so -> libopencv_video.so.4.2
│   ├── libopencv_video.so.4.2 -> libopencv_video.so.4.2.0
│   └── libopencv_video.so.4.2.0
└── share
    ├── licenses
    │   └── opencv4
    │       ├── ade-LICENSE
    │       ├── ittnotify-LICENSE.BSD
    │       ├── ittnotify-LICENSE.GPL
    │       ├── jasper-copyright
    │       ├── jasper-LICENSE
    │       ├── jasper-README
    │       ├── libjpeg-turbo-LICENSE.md
    │       ├── libjpeg-turbo-README.ijg
    │       ├── libjpeg-turbo-README.md
    │       ├── libtiff-COPYRIGHT
    │       ├── opencl-headers-LICENSE.txt
    │       ├── openexr-AUTHORS.ilmbase
    │       ├── openexr-AUTHORS.openexr
    │       ├── openexr-LICENSE
    │       ├── protobuf-LICENSE
    │       ├── protobuf-README.md
    │       ├── quirc-LICENSE
    │       └── SoftFloat-COPYING.txt
    └── opencv4
        ├── haarcascades
        │   ├── haarcascade_eye_tree_eyeglasses.xml
        │   ├── haarcascade_eye.xml
        │   ├── haarcascade_frontalcatface_extended.xml
        │   ├── haarcascade_frontalcatface.xml
        │   ├── haarcascade_frontalface_alt2.xml
        │   ├── haarcascade_frontalface_alt_tree.xml
        │   ├── haarcascade_frontalface_alt.xml
        │   ├── haarcascade_frontalface_default.xml
        │   ├── haarcascade_fullbody.xml
        │   ├── haarcascade_lefteye_2splits.xml
        │   ├── haarcascade_licence_plate_rus_16stages.xml
        │   ├── haarcascade_lowerbody.xml
        │   ├── haarcascade_profileface.xml
        │   ├── haarcascade_righteye_2splits.xml
        │   ├── haarcascade_russian_plate_number.xml
        │   ├── haarcascade_smile.xml
        │   └── haarcascade_upperbody.xml
        ├── lbpcascades
        │   ├── lbpcascade_frontalcatface.xml
        │   ├── lbpcascade_frontalface_improved.xml
        │   ├── lbpcascade_frontalface.xml
        │   ├── lbpcascade_profileface.xml
        │   └── lbpcascade_silverware.xml
        ├── valgrind_3rdparty.supp
        └── valgrind.supp

55 directories, 381 files
```

# First Demo
```
#include <stdio.h>
#include <opencv2/opencv.hpp>
using namespace cv;
int main(int argc, char** argv )
{
    if ( argc != 2 )
    {
        printf("usage: DisplayImage.out <Image_Path>\n");
        return -1;
    }
    Mat image;
    image = imread( argv[1], 1 );
    if ( !image.data )
    {
        printf("No image data \n");
        return -1;
    }
    namedWindow("Display Image", WINDOW_AUTOSIZE );
    imshow("Display Image", image);
    waitKey(0);
    return 0;
}
```
+ 编译 
```
g++ demo1.cpp  -o main -L/home/wy/softwere/opencv/lib   -lopencv_core -lopencv_highgui -lopencv_imgcodecs
```

+ 指定动态库的位置 `export LD_LIBRARY_PATH='/home/wy/softwere/opencv/lib'` 
+ 运行 `./main disktop.jpeg ` 

# Linux添加自定义的动态链接库
<https://www.jb51.net/article/138400.htm>
+ 在目录 `/etc/ld.so.conf.d` 创建文件，添加库路径
+ 执行 `ldconfig`

# Reference

* <https://www.w3cschool.cn/opencv/opencv-sjw628u6.html>
 
# 待解决的问题
* `pkg-config --cflag opencv`